<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biblioteca</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/biblioteca/css/index.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css"
    />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <a class="navbar-brand" href="index.html">Biblioteca</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active" id="inicioSesion">
            <a
              class="nav-link"
              href="#"
              data-toggle="modal"
              data-target="#inicioModal"
              >Iniciar Sesión</a
            >
          </li>
          <li class="nav-item active" id="cerrarSesion">
            <a class="nav-link" id="cerrarSesion" href="#">Cerrar Sesión</a>
          </li>
          <li class="nav-item active">
            <a
              class="nav-link"
              href="#"
              data-toggle="modal"
              data-target="#registroModal"
              >Registrarse</a
            >
          </li>
        </ul>
      </div>
    </nav>
    <!--Modal inicio sesión-->
    <div
      class="modal fade"
      id="inicioModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Inicio</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div
              class="alert alert-danger alert-dismissible fade show"
              id="error"
              role="alert"
            >
              <span id="errorTexto"></span>
              <button
                type="button"
                class="close"
                data-dismiss="alert"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form
              class="needs-validation"
              novalidate
              id="formularioIniciarSesion"
              method="POST"
            >
              <div class="form-group">
                <label for="exampleInputEmail1">Correo electrónico</label>
                <input
                  placeholder="ejemplo@ejemplo.es"
                  required
                  type="email"
                  name="email"
                  class="form-control"
                  id="email"
                />
              </div>
              <div class="valid-feedback">Correcto.</div>
              <div class="invalid-feedback">Introduzca un email válido.</div>
              <div class="form-group">
                <label for="exampleInputPassword1">Contraseña</label>
                <input
                  type="password"
                  required
                  class="form-control"
                  name="password"
                  id="password"
                />
              </div>
              <div class="valid-feedback">Correcto.</div>
              <div class="invalid-feedback">Introduzca una contraseña.</div>
              <button
                type="submit"
                class="btn btn-primary"
                id="botonIniciarSesion"
              >
                Iniciar sesión
              </button>
            </form>
          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>
    <!--Modal registro-->
    <div
      class="modal fade"
      id="registroModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Registro</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form
              class="needs-validation"
              novalidate
              id="formularioRegistro"
              method="POST"
            >
              <div class="form-group">
                <label for="exampleInputEmail1">Correo electrónico</label>
                <i
                  class="fas fa-question-circle"
                  data-toggle="tooltip"
                  data-placement="right"
                  title="Tu correo electrónico solo será visible para otros usuarios cuando añadas un comentario a un libro."
                ></i>
                <input
                  placeholder="ejemplo@ejemplo.es"
                  required
                  type="email"
                  name="email"
                  class="form-control"
                  id="email"
                />
                <div class="valid-feedback">Correcto.</div>
                <div class="invalid-feedback">Introduzca un email válido.</div>
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Contraseña</label>
                <input
                  type="password"
                  class="form-control"
                  required
                  name="password"
                  id="password"
                />
              </div>
              <div class="valid-feedback">Correcto.</div>
              <div class="invalid-feedback">
                Introduzca una contraseña válida.
              </div>
              <button
                type="submit"
                class="btn btn-primary mt-3"
                id="botonRegistro"
              >
                Registrarse
              </button>
            </form>
          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <!-- Modal eliminar libro -->
    <div class="modal fade" id="modalEliminar" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              ¿Estás seguro de que desea eliminar el libro?
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-success" data-dismiss="modal">
              Cancelar
            </button>
            <button class="btn btn-danger" id="#eliminarLibro">
              Eliminar libro
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal añadir libro -->
    <div class="modal fade" id="modalAñadirLibro" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-primary">
            <h5 class="modal-title">Añadir libro</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="tituloLibroInput">Título</label>
              <input
                type="text"
                placeholder="El lazarillo de Tormes"
                class="form-control"
                id="tituloLibroInput"
              />
            </div>
            <div class="form-group">
              <label for="autorLibroInput">Autor</label>
              <input
                type="text"
                placeholder="Anónimo"
                class="form-control"
                id="autorLibroInput"
              />
            </div>
            <div class="form-group">
              <label for="descripcionInput">Descripción</label>
              <textarea
                class="form-control"
                id="descripcionLibroInput"
              ></textarea>
            </div>
            <div class="form-group">
              <label for="puntuacionLibroInput">Puntuación</label>
              <input
                type="text"
                class="form-control"
                id="puntuacionLibroInput"
              />
            </div>
            <div class="form-group">
              <label for="generoLibroInput">Género</label>
              <input
                type="text"
                placeholder="Infantil Comedia ..."
                class="form-control"
                id="generoLibroInput"
              />
            </div>
            <div class="form-group">
              <label for="imagenLibroInput">URL de la imagen</label>
              <input
                type="text"
                placeholder="https://enlace.com"
                class="form-control"
                id="imagenLibroInput"
              />
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="button" class="btn btn-primary" id="añadirLibro">
              Añadir libro
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal para eliminar usuarios -->
    <div class="modal fade" id="modalEliminarUsuar" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Usuarios</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div id="usuarios"></div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancelar
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="col-12 d-flex justify-content-center justify-content-md-start m-2"
      id="panelAdmin"
    >
      <button
        class="btn btn-outline-success mr-2"
        id="añadirLibroBn"
        data-toggle="modal"
        data-target="#modalAñadirLibro"
      >
        Añadir libro
      </button>
      <button
        class="btn btn-outline-danger"
        id="eliminarUsuarioBn"
        data-toggle="modal"
        data-target="#modalEliminarUsuar"
      >
        Eliminar usuario
      </button>
    </div>

    <div class="container mt-4">
      <div
        class="list-group list-group-horizontal m-3"
        id="list-tab"
        role="tablist"
      >
        <a
          class="list-group-item list-group-item-action active"
          id="nuestrosLibros"
          data-toggle="list"
          href="#list-home"
          role="tab"
          aria-controls="home"
        >
          Nuestros Libros
          <span
            id="nuestrosLibrosNum"
            class="badge badge-dark badge-pill"
          ></span>
        </a>
        <a
          class="list-group-item list-group-item-action"
          id="tusLibros"
          data-toggle="list"
          href="#list-profile"
          role="tab"
          aria-controls="profile"
        >
          Tus Libros
          <span id="tusLibrosNum" class="badge badge-dark badge-pill"></span>
        </a>
      </div>

      <div id="alertas">
        <div class="alert alert-danger" id="alerta" role="alert">
        </div>
      </div>

      <div class="input-group m-3">
        <input
          type="text"
          class="form-control"
          id="inputBusqueda"
          placeholder="Palabras ordenadas..."
        />
        <div class="input-group-append">
          <select class="custom-select" id="tipoBusqueda">
            <option selected>Buscar por...</option>
            <option value="Titulo">Título</option>
            <option value="Genero">Género</option>
            <option value="Autor">Autor</option>
            <option value="Puntuacion">Puntuación</option>
          </select>
        </div>
      </div>
      <div id="info">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Imagen</th>
              <th scope="col">Título</th>
              <th scope="col">Autor</th>
              <th class="acciones" scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody id="libros"></tbody>
        </table>
      </div>
    </div>

    <!-- Modal para pagar multa -->
    <div class="modal fade" id="pagarMultaModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header bg-primary text-light">
            <h5 class="modal-title" id="exampleModalLabel">Pagar multa</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-row">
              <div class="form-group col-12 col-md-4">
                <label for="inputNombre">Nombre</label>
                <input
                  placeholder="Juan"
                  type="text"
                  class="form-control"
                  id="inputNombre"
                />
              </div>
              <div class="form-group col-12 col-md-4">
                <label for="inputApellidos">Apellidos</label>
                <input
                  placeholder="Gracía García"
                  type="text"
                  class="form-control"
                  id="inputApellidos"
                />
              </div>
              <div class="form-group col-12 col-md-4">
                <label for="inputDNI">DNI</label>
                <input
                  placeholder="12345678Z"
                  pattern="^[0-9]{8}[A-z]$"
                  type="text"
                  class="form-control"
                  id="inputDNI"
                />
                <small class="form-text error"></small>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputNumeroTarjetaCredito"
                  >Tarjeta de crédito</label
                >
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="4444 4444 4444 4444"
                    pattern="^[0-9]{4}\s[0-9]{4}\s[0-9]{4}\s[0-9]{4}$"
                    id="inputTarjetaCredito"
                  />
                  <div class="input-group-append">
                    <span class="input-group-text"
                      ><i id="tipoTarjetaCredito" class="fab"></i
                    ></span>
                  </div>
                  <div class="col-12">
                    <small class="form-text error"></small>
                  </div>
                </div>
              </div>
              <div class="form-group col-md-4">
                <label for="inputFechaCaducidad">Fecha de caducidad</label>
                <input
                  type="date"
                  class="form-control"
                  id="inputFechaCaducidad"
                />
                <small class="form-text error"></small>
              </div>
              <div class="form-group col-md-2">
                <label for="inputCCV">CCV</label>
                <input
                  pattern="^[0-9]{3}$"
                  type="text"
                  class="form-control"
                  id="inputCCV"
                />
                <small class="form-text error"></small>
              </div>
            </div>
            <div class="w-100 d-flex justify-content-end">
              <button id="realizarCompra" class="btn btn-primary">
                Pagar multa
              </button>
            </div>
            <br/>
            <hr/>
            <div id="smart-button-container">
              <div style="text-align: center;">
                <div id="paypal-button-container"></div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancelar
            </button>
          </div>
        </div>
      </div>
    </div>

    
  

    

    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
      integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
      crossorigin="anonymous"
    ></script>
    <script src="/biblioteca/javascript/funciones.js"></script>
    <script src="/biblioteca/javascript/funcionesIndex.js"></script>
    <script src="/biblioteca/javascript/ordenacion.js"></script>
    <script src="/biblioteca/javascript/libro.js"></script>

    <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=EUR" data-sdk-integration-source="button-factory"></script>
    <script>
      function initPayPalButton() {
        paypal.Buttons({
          style: {
            shape: 'pill',
            color: 'gold',
            layout: 'horizontal',
            label: 'paypal',
            
          },
  
          createOrder: function(data, actions) {
            return actions.order.create({
              purchase_units: [{"description":"Multa","amount":{"currency_code":"EUR","value":10}}]
            });
          },
  
          onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
              alert('Transaction completed by ' + details.payer.name.given_name + '!');
            });
          },
  
          onError: function(err) {
            console.log(err);
          }
        }).render('#paypal-button-container');
      }
      initPayPalButton();
    </script>
  </body>
</html>
